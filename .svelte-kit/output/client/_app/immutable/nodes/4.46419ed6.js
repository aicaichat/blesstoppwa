import{s as ue,n as R,e as $,o as fe,f as de,h as ee}from"../chunks/scheduler.c332f3f7.js";import{S as he,i as me,g,s as I,x as pe,h as y,f as b,c as E,j as k,k as r,y as u,a as M,z as V,C as X,m as F,D as Y,n as O,l as B,o as W,A as ce}from"../chunks/index.a647b513.js";import{g as Z,t as Q,u as te,b as U}from"../chunks/appState.b697c72e.js";function se(o){let e,s='<div class="w-20 h-20 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-6 svelte-14j8jsp"></div> <h2 class="text-2xl font-semibold text-yellow-100 mb-4">æ­£åœ¨å‡†å¤‡æ‚¨çš„ä¸“å±ä½“éªŒ</h2> <p class="text-yellow-200">è°ƒç”¨å¤å¯ºå¼€å…‰åŠ æŒ...</p>';return{c(){e=g("div"),e.innerHTML=s,this.h()},l(t){e=y(t,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-6c2g31"&&(e.innerHTML=s),this.h()},h(){r(e,"class","text-center")},m(t,i){M(t,e,i)},d(t){t&&b(e)}}}function le(o){let e,s,t,i,l,x,p,c,n,v,f,m,a=Math.ceil(o[0])+"",d,h,j,H="ç§’",A,z,T,q='<p class="text-lg text-yellow-200 opacity-80">è·Ÿéšåœ†ç¯çš„èŠ‚å¥ï¼Œæ·±æ·±åœ°å‘¼å¸</p>',D=o[3]&&ae(o);return{c(){e=g("div"),s=g("div"),t=X("svg"),i=X("circle"),l=X("circle"),p=I(),c=g("div"),n=I(),v=g("div"),f=g("div"),m=g("div"),d=F(a),h=I(),j=g("div"),j.textContent=H,A=I(),D&&D.c(),z=I(),T=g("div"),T.innerHTML=q,this.h()},l(C){e=y(C,"DIV",{class:!0});var w=k(e);s=y(w,"DIV",{class:!0});var P=k(s);t=Y(P,"svg",{class:!0,width:!0,height:!0});var N=k(t);i=Y(N,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),k(i).forEach(b),l=Y(N,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),k(l).forEach(b),N.forEach(b),p=E(P),c=y(P,"DIV",{class:!0,style:!0}),k(c).forEach(b),n=E(P),v=y(P,"DIV",{class:!0});var G=k(v);f=y(G,"DIV",{class:!0});var _=k(f);m=y(_,"DIV",{class:!0});var S=k(m);d=O(S,a),S.forEach(b),h=E(_),j=y(_,"DIV",{class:!0,"data-svelte-h":!0}),V(j)!=="svelte-nyvek1"&&(j.textContent=H),_.forEach(b),G.forEach(b),P.forEach(b),A=E(w),D&&D.l(w),z=E(w),T=y(w,"DIV",{class:!0,"data-svelte-h":!0}),V(T)!=="svelte-1g1vv7x"&&(T.innerHTML=q),w.forEach(b),this.h()},h(){r(i,"cx","100"),r(i,"cy","100"),r(i,"r","90"),r(i,"stroke","rgba(255, 215, 0, 0.2)"),r(i,"stroke-width","4"),r(i,"fill","none"),r(l,"class","progress-circle svelte-14j8jsp"),r(l,"cx","100"),r(l,"cy","100"),r(l,"r","90"),r(l,"stroke","#FFD700"),r(l,"stroke-width","4"),r(l,"fill","none"),r(l,"stroke-dasharray","565.48"),r(l,"stroke-dashoffset",x=565.48-o[1]/100*565.48),r(l,"transform","rotate(-90 100 100)"),r(t,"class","progress-ring svelte-14j8jsp"),r(t,"width","200"),r(t,"height","200"),r(c,"class","breathing-ring svelte-14j8jsp"),B(c,"width",o[2]+"px"),B(c,"height",o[2]+"px"),B(c,"margin-left","-"+o[2]/2+"px"),B(c,"margin-top","-"+o[2]/2+"px"),r(m,"class","text-3xl font-bold text-yellow-100"),r(j,"class","text-sm text-yellow-300"),r(f,"class","text-center"),r(v,"class","absolute inset-0 flex items-center justify-center"),r(s,"class","relative mb-8"),r(T,"class","mb-8"),r(e,"class","text-center relative")},m(C,w){M(C,e,w),u(e,s),u(s,t),u(t,i),u(t,l),u(s,p),u(s,c),u(s,n),u(s,v),u(v,f),u(f,m),u(m,d),u(f,h),u(f,j),u(e,A),D&&D.m(e,null),u(e,z),u(e,T)},p(C,w){w&2&&x!==(x=565.48-C[1]/100*565.48)&&r(l,"stroke-dashoffset",x),w&4&&B(c,"width",C[2]+"px"),w&4&&B(c,"height",C[2]+"px"),w&4&&B(c,"margin-left","-"+C[2]/2+"px"),w&4&&B(c,"margin-top","-"+C[2]/2+"px"),w&1&&a!==(a=Math.ceil(C[0])+"")&&W(d,a),C[3]?D?D.p(C,w):(D=ae(C),D.c(),D.m(e,z)):D&&(D.d(1),D=null)},d(C){C&&b(e),D&&D.d()}}}function ae(o){let e,s,t;return{c(){e=g("div"),s=g("p"),t=F(o[3]),this.h()},l(i){e=y(i,"DIV",{class:!0});var l=k(e);s=y(l,"P",{class:!0});var x=k(s);t=O(x,o[3]),x.forEach(b),l.forEach(b),this.h()},h(){r(s,"class","text-xl md:text-2xl text-yellow-100 font-medium"),r(e,"class","mb-8")},m(i,l){M(i,e,l),u(e,s),u(s,t)},p(i,l){l&8&&W(t,i[3])},d(i){i&&b(e)}}}function re(o){let e,s,t="ğŸ™",i,l,x="ä½“éªŒå®Œæˆ",p,c,n,v="æ­£åœ¨ä¸ºæ‚¨è¿æ¥AIç¥ä»™ä¼´ä¾£...",f,m,a=o[6].calmScore&&ie(o);return{c(){e=g("div"),s=g("div"),s.textContent=t,i=I(),l=g("h2"),l.textContent=x,p=I(),a&&a.c(),c=I(),n=g("p"),n.textContent=v,f=I(),m=g("div"),this.h()},l(d){e=y(d,"DIV",{class:!0});var h=k(e);s=y(h,"DIV",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1acf0xh"&&(s.textContent=t),i=E(h),l=y(h,"H2",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-1hwz3w4"&&(l.textContent=x),p=E(h),a&&a.l(h),c=E(h),n=y(h,"P",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-xo87j"&&(n.textContent=v),f=E(h),m=y(h,"DIV",{class:!0}),k(m).forEach(b),h.forEach(b),this.h()},h(){r(s,"class","text-6xl mb-6"),r(l,"class","text-3xl font-bold gradient-text mb-4 svelte-14j8jsp"),r(n,"class","text-yellow-200 mb-6"),r(m,"class","w-8 h-8 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto svelte-14j8jsp"),r(e,"class","text-center")},m(d,h){M(d,e,h),u(e,s),u(e,i),u(e,l),u(e,p),a&&a.m(e,null),u(e,c),u(e,n),u(e,f),u(e,m)},p(d,h){d[6].calmScore?a?a.p(d,h):(a=ie(d),a.c(),a.m(e,c)):a&&(a.d(1),a=null)},d(d){d&&b(e),a&&a.d()}}}function ie(o){let e,s,t="æ‚¨çš„å¹³é™æŒ‡æ•°",i,l,x=o[6].calmScore+"",p,c,n,v,f=o[6].calmScore>=80?"æ•ˆæœå“è¶Šï¼":o[6].calmScore>=65?"æ•ˆæœè‰¯å¥½":"è½»å¾®æ”¹å–„",m;return{c(){e=g("div"),s=g("p"),s.textContent=t,i=I(),l=g("div"),p=F(x),c=F("/100"),n=I(),v=g("p"),m=F(f),this.h()},l(a){e=y(a,"DIV",{class:!0});var d=k(e);s=y(d,"P",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-19e78i0"&&(s.textContent=t),i=E(d),l=y(d,"DIV",{class:!0});var h=k(l);p=O(h,x),c=O(h,"/100"),h.forEach(b),n=E(d),v=y(d,"P",{class:!0});var j=k(v);m=O(j,f),j.forEach(b),d.forEach(b),this.h()},h(){r(s,"class","text-xl text-yellow-100 mb-2"),r(l,"class","text-4xl font-bold text-green-400"),r(v,"class","text-sm text-yellow-300 mt-2"),r(e,"class","mb-6")},m(a,d){M(a,e,d),u(e,s),u(e,i),u(e,l),u(l,p),u(l,c),u(e,n),u(e,v),u(v,m)},p(a,d){d&64&&x!==(x=a[6].calmScore+"")&&W(p,x),d&64&&f!==(f=a[6].calmScore>=80?"æ•ˆæœå“è¶Šï¼":a[6].calmScore>=65?"æ•ˆæœè‰¯å¥½":"è½»å¾®æ”¹å–„")&&W(m,f)},d(a){a&&b(e)}}}function ne(o){let e,s,t,i="ç´§æ€¥é€€å‡º",l,x,p=o[4]&&oe(o);return{c(){e=g("div"),p&&p.c(),s=I(),t=g("button"),t.textContent=i,this.h()},l(c){e=y(c,"DIV",{class:!0});var n=k(e);p&&p.l(n),s=E(n),t=y(n,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-fofg6c"&&(t.textContent=i),n.forEach(b),this.h()},h(){r(t,"class","px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-500/80 transition-colors text-sm"),r(e,"class","fixed bottom-6 left-0 right-0 flex justify-center gap-4 px-6")},m(c,n){M(c,e,n),p&&p.m(e,null),u(e,s),u(e,t),l||(x=ce(t,"click",o[8]),l=!0)},p(c,n){c[4]?p?p.p(c,n):(p=oe(c),p.c(),p.m(e,s)):p&&(p.d(1),p=null)},d(c){c&&b(e),p&&p.d(),l=!1,x()}}}function oe(o){let e,s="è·³è¿‡ â†’",t,i;return{c(){e=g("button"),e.textContent=s,this.h()},l(l){e=y(l,"BUTTON",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-359rfz"&&(e.textContent=s),this.h()},h(){r(e,"class","px-6 py-3 bg-gray-600/80 text-white rounded-xl hover:bg-gray-500/80 transition-colors")},m(l,x){M(l,e,x),t||(i=ce(e,"click",o[7]),t=!0)},p:R,d(l){l&&b(e),t=!1,i()}}}function ve(o){let e,s,t,i,l,x,p,c,n=o[6].status==="preparing"&&se(),v=o[6].status==="playing"&&le(o),f=(o[6].status==="completed"||o[6].status==="evaluated")&&re(o),m=o[6].status==="playing"&&ne(o);return{c(){e=g("meta"),s=I(),t=g("div"),n&&n.c(),i=I(),v&&v.c(),l=I(),f&&f.c(),x=I(),m&&m.c(),p=I(),c=g("div"),this.h()},l(a){const d=pe("svelte-1f3y1ol",document.head);e=y(d,"META",{name:!0,content:!0}),d.forEach(b),s=E(a),t=y(a,"DIV",{class:!0});var h=k(t);n&&n.l(h),i=E(h),v&&v.l(h),l=E(h),f&&f.l(h),x=E(h),m&&m.l(h),p=E(h),c=y(h,"DIV",{class:!0}),k(c).forEach(b),h.forEach(b),this.h()},h(){document.title="æƒ…ç»ªæ€¥æ•‘ä¸­ - äº¤ä¸ªç¥ä»™æœ‹å‹",r(e,"name","description"),r(e,"content","æ­£åœ¨è¿›è¡Œä¸ªæ€§åŒ–æƒ…ç»ªæ€¥æ•‘ï¼Œè¯·ä¿æŒä¸“æ³¨"),r(c,"class","background-glow svelte-14j8jsp"),r(t,"class","min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden")},m(a,d){u(document.head,e),M(a,s,d),M(a,t,d),n&&n.m(t,null),u(t,i),v&&v.m(t,null),u(t,l),f&&f.m(t,null),u(t,x),m&&m.m(t,null),u(t,p),u(t,c)},p(a,[d]){a[6].status==="preparing"?n||(n=se(),n.c(),n.m(t,i)):n&&(n.d(1),n=null),a[6].status==="playing"?v?v.p(a,d):(v=le(a),v.c(),v.m(t,l)):v&&(v.d(1),v=null),a[6].status==="completed"||a[6].status==="evaluated"?f?f.p(a,d):(f=re(a),f.c(),f.m(t,x)):f&&(f.d(1),f=null),a[6].status==="playing"?m?m.p(a,d):(m=ne(a),m.c(),m.m(t,p)):m&&(m.d(1),m=null)},i:R,o:R,d(a){a&&(b(s),b(t)),b(e),n&&n.d(),v&&v.d(),f&&f.d(),m&&m.d()}}}function _e(o,e,s){let t,i,l,x=R,p=()=>(x(),x=ee(i,_=>s(12,l=_)),i),c,n=R,v=()=>(n(),n=ee(t,_=>s(13,c=_)),t),f,m;$(o,te,_=>s(9,f=_)),$(o,U,_=>s(10,m=_)),o.$$.on_destroy.push(()=>x()),o.$$.on_destroy.push(()=>n());let a=0,d=0,h=null,j=100,H="",A=!1;const z={30:[{time:0,text:"æ·±å‘¼å¸ï¼Œæ”¾ä¸‹ä¸€åˆ‡ç„¦è™‘"},{time:8,text:"æ„Ÿå—å†…å¿ƒçš„å®é™"},{time:15,text:"è®©å¹³é™å……æ»¡èº«å¿ƒ"},{time:25,text:"ä½“éªŒåœ†æ»¡çš„å®‰å®"}],60:[{time:0,text:"æ¬¢è¿æ¥åˆ°å¿ƒçµå‡€åœŸ"},{time:15,text:"è·Ÿéšå‘¼å¸çš„èŠ‚å¥"},{time:30,text:"æ„Ÿå—é‡‘è‰²å…‰èŠ’çš„æŠ¤ä½‘"},{time:45,text:"è®©æ…ˆæ‚²ä¹‹å…‰å‡€åŒ–å¿ƒçµ"},{time:55,text:"ä½“éªŒå®Œæ•´çš„å®é™"}],90:[{time:0,text:"è§‚éŸ³æ— ç•å¸ƒæ–½ï¼ŒæŠ¤ä½‘ä¼—ç”Ÿ"},{time:25,text:"å‘¼å¸ä¹‹é—´ï¼Œä¸‡æ³•çš†ç©º"},{time:50,text:"é‡‘åˆšèˆ¬è‹¥ï¼Œæ™ºæ…§ç°å‰"},{time:70,text:"æ…ˆæ‚²å–œèˆï¼Œå››æ— é‡å¿ƒ"},{time:85,text:"åœ†æ»¡åŠŸå¾·ï¼Œå›å‘ä¼—ç”Ÿ"}]};fe(()=>{{const _=l.duration;if(!_){Z("/awake");return}Q("page_view",{page:"breathe",duration:_}),T(_),setTimeout(()=>{s(4,A=!0)},3e3)}}),de(()=>{h&&clearInterval(h)});function T(_){U.update(S=>({...S,status:"preparing",duration:_,startTime:Date.now()})),setTimeout(()=>{U.update(S=>({...S,status:"playing"})),q(_),C()},1e3)}function q(_){s(0,a=_);const S=Date.now();h=setInterval(()=>{const J=(Date.now()-S)/1e3;s(0,a=Math.max(0,_-J)),s(1,d=J/_*100),D(J,_),a<=0&&w()},100)}function D(_,S){const K=(z[S]||z[60]).reverse().find(L=>_>=L.time);if(K&&K.text!==H&&(s(3,H=K.text),"speechSynthesis"in window)){const L=new SpeechSynthesisUtterance(K.text);L.lang="zh-CN",L.rate=.8,L.pitch=.9,speechSynthesis.speak(L)}}function C(){const _=setInterval(()=>{if(c.status!=="playing"){clearInterval(_);return}const S=Date.now()*.001;s(2,j=100+30*Math.sin(S*.5))},16)}function w(){h&&clearInterval(h),U.update(_=>({..._,status:"completed",endTime:Date.now()})),Q("breathe_complete",{duration:l.duration,actualDuration:(Date.now()-c.startTime)/1e3}),setTimeout(P,1e3)}function P(){const _=Math.floor(Math.random()*40)+60;U.update(S=>({...S,status:"evaluated",calmScore:_})),te.update(S=>({...S,calmScore:_})),setTimeout(()=>{Z("/mirror")},2e3)}function N(){Q("breathe_early_exit",{duration:l.duration,timeRemaining:a}),w()}function G(){Q("breathe_emergency_exit"),Z("/")}return o.$$.update=()=>{o.$$.dirty&1024&&v(s(6,t=m)),o.$$.dirty&512&&p(s(5,i=f))},[a,d,j,H,A,i,t,N,G,f,m]}class ye extends he{constructor(e){super(),me(this,e,_e,ve,ue,{})}}export{ye as component};
