import { c as create_ssr_component, a as subscribe, b as add_attribute, e as escape } from "../../../chunks/ssr.js";
import { p as page } from "../../../chunks/stores.js";
import { s as sanctifyState } from "../../../chunks/appState.js";
const _page_svelte_svelte_type_style_lang = "";
const css = {
  code: ".gradient-text.svelte-cr46zk{background:linear-gradient(135deg, #FFD700 0%, #FFF8DC 50%, #DAA520 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.backdrop-blur-subtle.svelte-cr46zk{backdrop-filter:blur(12px);background:rgba(0, 0, 0, 0.4)}",
  map: null
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let state;
  let $$unsubscribe_page;
  let $sanctifyState, $$unsubscribe_sanctifyState;
  $$unsubscribe_page = subscribe(page, (value) => value);
  $$unsubscribe_sanctifyState = subscribe(sanctifyState, (value) => $sanctifyState = value);
  let nfcId = "";
  let videoElement;
  let certificateRef;
  $$result.css.add(css);
  state = $sanctifyState;
  $$unsubscribe_page();
  $$unsubscribe_sanctifyState();
  return `${$$result.head += `<!-- HEAD_svelte-1ubv01i_START -->${$$result.title = `<title>验真开光证书 - 交个神仙朋友</title>`, ""}<meta name="description" content="验证您的沉香手串开光证书，确保来源正宗"><!-- HEAD_svelte-1ubv01i_END -->`, ""} <div class="min-h-screen flex flex-col items-center justify-center p-6"> ${state.status === "scanning" || state.status === "fetching" ? `<div class="text-center" data-svelte-h="svelte-f1we7g"><div class="w-20 h-20 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"></div> <h2 class="text-2xl font-semibold text-yellow-100 mb-4">正在验证手串真伪</h2> <p class="text-yellow-200">请稍候，正在连接古寺数据库...</p></div>` : ``}  ${state.status === "fetched" || state.status === "generating_pdf" || state.status === "pdf_ready" ? `<div class="w-full max-w-4xl"> ${state.certificateData?.videoUrl ? `<div class="mb-8 text-center"><div class="relative inline-block rounded-2xl overflow-hidden max-w-2xl"><video${add_attribute("src", state.certificateData.videoUrl, 0)} autoplay muted loop playsinline class="w-full h-auto" poster="/images/blessing-poster.jpg"${add_attribute("this", videoElement, 0)}><track kind="captions" src="/videos/blessing-captions.vtt" srclang="zh" label="中文字幕"></video> ${`<div class="absolute inset-0 bg-black flex items-center justify-center" data-svelte-h="svelte-q26451"><div class="text-yellow-500">加载中...</div></div>`}</div> <p class="mt-4 text-yellow-200 text-lg" data-svelte-h="svelte-14ppads">🙏 开光仪式视频</p></div>` : ``}  <div class="backdrop-blur-subtle rounded-2xl p-8 border-2 border-yellow-500/50 mb-8 svelte-cr46zk"${add_attribute("this", certificateRef, 0)}><div class="text-center mb-6" data-svelte-h="svelte-ul6oll"><h1 class="text-3xl font-bold gradient-text mb-2 svelte-cr46zk">开光证书</h1> <p class="text-yellow-200">千年古寺认证</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-4"><div><label class="block text-sm font-medium text-yellow-300 mb-1" data-svelte-h="svelte-ynisew">手串编号</label> <div class="text-yellow-100 font-mono text-lg">${escape(nfcId)}</div></div> <div><label class="block text-sm font-medium text-yellow-300 mb-1" data-svelte-h="svelte-1wtif43">区块链哈希</label> <div class="text-yellow-100 font-mono text-sm break-all">${escape(state.certificateData?.hash)}</div></div> <div><label class="block text-sm font-medium text-yellow-300 mb-1" data-svelte-h="svelte-1oourr4">开光法师</label> <div class="text-yellow-100">${escape(state.certificateData?.sign)}</div></div></div> <div class="space-y-4"><div><label class="block text-sm font-medium text-yellow-300 mb-1" data-svelte-h="svelte-12nl3rt">认证寺院</label> <div class="text-yellow-100">${escape(state.certificateData?.templeName)}</div></div> <div><label class="block text-sm font-medium text-yellow-300 mb-1" data-svelte-h="svelte-ftmogf">开光时间</label> <div class="text-yellow-100">${escape(state.certificateData?.mintedAt ? new Date(state.certificateData.mintedAt).toLocaleDateString("zh-CN") : "")}</div></div> <div data-svelte-h="svelte-1ty0pf5"><label class="block text-sm font-medium text-yellow-300 mb-1">验证状态</label> <div class="flex items-center gap-2"><span class="w-3 h-3 bg-green-500 rounded-full"></span> <span class="text-green-400 font-medium">已认证</span></div></div></div></div>  <div class="mt-8 text-center" data-svelte-h="svelte-1pbxdnj"><div class="inline-block p-4 border-2 border-yellow-500 rounded-full"><div class="text-2xl text-yellow-500">⚡</div></div> <p class="mt-2 text-yellow-300 text-sm">开光认证印章</p></div></div>  <div class="flex flex-col sm:flex-row gap-4 justify-center"><button ${state.status === "generating_pdf" ? "disabled" : ""} class="px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-semibold rounded-xl hover:from-blue-500 hover:to-blue-400 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">${state.status === "generating_pdf" ? `<span class="flex items-center gap-2" data-svelte-h="svelte-1otsj2i"><div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
							生成中...</span>` : `📄 生成PDF证书`}</button> ${state.status === "pdf_ready" ? `<button class="px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white font-semibold rounded-xl hover:from-green-500 hover:to-green-400 transition-all duration-300" data-svelte-h="svelte-41oajt">💾 下载证书</button>` : ``} <button class="px-6 py-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-black font-semibold rounded-xl hover:from-yellow-500 hover:to-yellow-400 transition-all duration-300" data-svelte-h="svelte-coth45">继续体验 →</button></div></div>` : ``}  ${state.status === "error" ? `<div class="text-center max-w-md"><div class="text-6xl mb-4" data-svelte-h="svelte-gp558o">⚠️</div> <h2 class="text-2xl font-semibold text-red-400 mb-4" data-svelte-h="svelte-1sbotgz">验证失败</h2> <p class="text-red-300 mb-6">${escape(state.error)}</p> <div class="flex flex-col sm:flex-row gap-4"><button class="px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-semibold rounded-xl hover:from-blue-500 hover:to-blue-400 transition-all duration-300" data-svelte-h="svelte-1y4uxgf">重试验证</button> <button class="px-6 py-3 border-2 border-yellow-500 text-yellow-500 font-semibold rounded-xl hover:bg-yellow-500 hover:text-black transition-all duration-300" data-svelte-h="svelte-1pavq1o">跳过验证</button></div></div>` : ``} </div>`;
});
export {
  Page as default
};
