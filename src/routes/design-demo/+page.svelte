<script>
	import { onMount } from 'svelte';
	import { goto } from '$app/navigation';
	import { browser } from '$app/environment';

	let currentView = 'overview';

	const designComponents = [
		{
			id: 'buttons',
			title: 'æŒ‰é’®ç»„ä»¶',
			description: 'å„ç§çŠ¶æ€å’Œæ ·å¼çš„æŒ‰é’®',
			color: '#ffd700'
		},
		{
			id: 'cards',
			title: 'å¡ç‰‡ç»„ä»¶',
			description: 'é€‰æ‹©å¡ç‰‡å’Œä¿¡æ¯å¡ç‰‡',
			color: '#22c55e'
		},
		{
			id: 'inputs',
			title: 'è¾“å…¥ç»„ä»¶',
			description: 'è¡¨å•è¾“å…¥å’Œäº¤äº’å…ƒç´ ',
			color: '#3b82f6'
		},
		{
			id: 'layouts',
			title: 'å¸ƒå±€ç»„ä»¶',
			description: 'é¡µé¢å¸ƒå±€å’Œç»“æ„',
			color: '#8b5cf6'
		}
	];

	onMount(() => {
		if (browser) {
			console.log('ğŸ¨ è®¾è®¡ç³»ç»Ÿæ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆ');
		}
	});

	function switchView(viewId) {
		currentView = viewId;
	}

	function testAnimation() {
		alert('åŠ¨ç”»æ•ˆæœæµ‹è¯•');
	}
</script>

<svelte:head>
	<title>è®¾è®¡ç³»ç»Ÿæ¼”ç¤º - äº¤ä¸ªç¥ä»™æœ‹å‹</title>
	<meta name="description" content="å±•ç¤ºæ–°çš„UIè®¾è®¡ç³»ç»Ÿå’Œç»„ä»¶åº“" />
</svelte:head>

<div class="design-demo">
	<!-- é¡µé¢å¤´éƒ¨ -->
	<header class="demo-header">
		<div class="header-content">
			<h1 class="demo-title">ğŸ¨ è®¾è®¡ç³»ç»Ÿæ¼”ç¤º</h1>
			<p class="demo-subtitle">å±•ç¤ºæç®€æµç•…çš„ç”¨æˆ·ç•Œé¢è®¾è®¡</p>
		</div>
	</header>

	<!-- å¯¼èˆªèœå• -->
	<nav class="demo-nav">
		<div class="nav-items">
			<button 
				class="nav-item {currentView === 'overview' ? 'active' : ''}"
				on:click={() => switchView('overview')}
			>
				æ€»è§ˆ
			</button>
			{#each designComponents as component}
				<button 
					class="nav-item {currentView === component.id ? 'active' : ''}"
					on:click={() => switchView(component.id)}
				>
					{component.title}
				</button>
			{/each}
		</div>
	</nav>

	<!-- ä¸»å†…å®¹åŒº -->
	<main class="demo-content">
		{#if currentView === 'overview'}
			<!-- æ€»è§ˆé¡µé¢ -->
			<section class="overview-section">
				<h2 class="section-title">è®¾è®¡åŸåˆ™</h2>
				<div class="principles-grid">
					<div class="principle-card">
						<div class="principle-icon">âœ¨</div>
						<h3>æç®€è‡³ä¸Š</h3>
						<p>ç§»é™¤ä¸€åˆ‡ä¸å¿…è¦çš„å…ƒç´ ï¼Œä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½</p>
					</div>
					<div class="principle-card">
						<div class="principle-icon">ğŸ¯</div>
						<h3>ç›®æ ‡å¯¼å‘</h3>
						<p>æ¯ä¸ªç•Œé¢éƒ½æœ‰æ¸…æ™°çš„ç”¨æˆ·ç›®æ ‡å’Œè¡ŒåŠ¨è·¯å¾„</p>
					</div>
					<div class="principle-card">
						<div class="principle-icon">ğŸŒŠ</div>
						<h3>æµç•…ä½“éªŒ</h3>
						<p>ä¸æ»‘çš„åŠ¨ç”»å’Œè¿‡æ¸¡ï¼Œç»™ç”¨æˆ·æ„‰æ‚¦æ„Ÿ</p>
					</div>
					<div class="principle-card">
						<div class="principle-icon">â™¿</div>
						<h3>æ— éšœç¢å‹å¥½</h3>
						<p>æ”¯æŒé”®ç›˜å¯¼èˆªã€å±å¹•é˜…è¯»å™¨å’ŒåŠ¨æ•ˆæ§åˆ¶</p>
					</div>
				</div>

				<h2 class="section-title">é¢œè‰²ç³»ç»Ÿ</h2>
				<div class="color-palette">
					<div class="color-item">
						<div class="color-swatch primary"></div>
						<span class="color-name">ä¸»è‰²è°ƒ</span>
						<span class="color-value">#ffd700</span>
					</div>
					<div class="color-item">
						<div class="color-swatch success"></div>
						<span class="color-name">æˆåŠŸ</span>
						<span class="color-value">#22c55e</span>
					</div>
					<div class="color-item">
						<div class="color-swatch warning"></div>
						<span class="color-name">è­¦å‘Š</span>
						<span class="color-value">#f59e0b</span>
					</div>
					<div class="color-item">
						<div class="color-swatch error"></div>
						<span class="color-name">é”™è¯¯</span>
						<span class="color-value">#ef4444</span>
					</div>
				</div>
			</section>

		{:else if currentView === 'buttons'}
			<!-- æŒ‰é’®ç»„ä»¶æ¼”ç¤º -->
			<section class="component-section">
				<h2 class="section-title">æŒ‰é’®ç»„ä»¶</h2>
				
				<div class="component-group">
					<h3>ä¸»è¦æŒ‰é’®</h3>
					<div class="button-demos">
						<button class="btn-primary">å¼€å§‹ä½“éªŒ</button>
						<button class="btn-primary" disabled>ç¦ç”¨çŠ¶æ€</button>
						<button class="btn-primary loading">åŠ è½½ä¸­...</button>
					</div>
				</div>

				<div class="component-group">
					<h3>æ¬¡è¦æŒ‰é’®</h3>
					<div class="button-demos">
						<button class="btn-secondary">æ¬¡è¦æ“ä½œ</button>
						<button class="btn-secondary" disabled>ç¦ç”¨çŠ¶æ€</button>
					</div>
				</div>

				<div class="component-group">
					<h3>å›¾æ ‡æŒ‰é’®</h3>
					<div class="button-demos">
						<button class="btn-icon">ğŸ </button>
						<button class="btn-icon">âš™ï¸</button>
						<button class="btn-icon">â¤ï¸</button>
					</div>
				</div>
			</section>

		{:else if currentView === 'cards'}
			<!-- å¡ç‰‡ç»„ä»¶æ¼”ç¤º -->
			<section class="component-section">
				<h2 class="section-title">å¡ç‰‡ç»„ä»¶</h2>
				
				<div class="component-group">
					<h3>é€‰æ‹©å¡ç‰‡</h3>
					<div class="card-demos">
						<div class="selection-card recommended">
							<div class="card-badge">æ¨è</div>
							<div class="card-icon">ğŸŒ¸</div>
							<div class="card-number">60s</div>
							<h4>æ·±åº¦æ”¾æ¾</h4>
							<p>å¹³è¡¡æ•ˆæœä¸æ—¶é—´</p>
							<div class="card-features">
								<span class="feature-tag">æ·±åº¦ç–—æ„ˆ</span>
								<span class="feature-tag">æœ€å—æ¬¢è¿</span>
							</div>
						</div>

						<div class="selection-card">
							<div class="card-icon">âš¡</div>
							<div class="card-number">30s</div>
							<h4>å¿«é€Ÿæ€¥æ•‘</h4>
							<p>é€‚åˆå¿™ç¢Œæ—¶åˆ»</p>
							<div class="card-features">
								<span class="feature-tag">å³æ—¶æ•ˆæœ</span>
								<span class="feature-tag">éšæ—¶å¯ç”¨</span>
							</div>
						</div>
					</div>
				</div>

				<div class="component-group">
					<h3>ä¿¡æ¯å¡ç‰‡</h3>
					<div class="info-card">
						<div class="info-icon">ğŸ’¡</div>
						<div class="info-content">
							<h4>å°è´´å£«</h4>
							<p>ä½“éªŒç»“æŸåå¯é‡æ–°é€‰æ‹©æ—¶é•¿</p>
						</div>
					</div>
				</div>
			</section>

		{:else if currentView === 'inputs'}
			<!-- è¾“å…¥ç»„ä»¶æ¼”ç¤º -->
			<section class="component-section">
				<h2 class="section-title">è¾“å…¥ç»„ä»¶</h2>
				
				<div class="component-group">
					<h3>æ–‡æœ¬è¾“å…¥</h3>
					<div class="input-demos">
						<input type="text" class="text-input" placeholder="è¯·è¾“å…¥å†…å®¹" />
						<input type="text" class="text-input" value="å·²å¡«å†™å†…å®¹" />
						<input type="text" class="text-input error" placeholder="é”™è¯¯çŠ¶æ€" />
					</div>
				</div>

				<div class="component-group">
					<h3>é€‰æ‹©å™¨</h3>
					<div class="selector-demos">
						<select class="select-input">
							<option>é€‰é¡¹ä¸€</option>
							<option>é€‰é¡¹äºŒ</option>
							<option>é€‰é¡¹ä¸‰</option>
						</select>
					</div>
				</div>
			</section>

		{:else if currentView === 'layouts'}
			<!-- å¸ƒå±€ç»„ä»¶æ¼”ç¤º -->
			<section class="component-section">
				<h2 class="section-title">å¸ƒå±€ç»„ä»¶</h2>
				
				<div class="component-group">
					<h3>é¡µé¢ç»“æ„</h3>
					<div class="layout-demo">
						<div class="layout-header">é¡µé¢å¤´éƒ¨</div>
						<div class="layout-nav">å¯¼èˆªåŒºåŸŸ</div>
						<div class="layout-main">ä¸»å†…å®¹åŒº</div>
						<div class="layout-footer">é¡µé¢åº•éƒ¨</div>
					</div>
				</div>
			</section>
		{/if}
	</main>

	<!-- è¿”å›é¦–é¡µ -->
	<div class="demo-footer">
		<button class="btn-home" on:click={() => goto('/')}>
			<span class="btn-icon">ğŸ </span>
			<span class="btn-text">è¿”å›é¦–é¡µ</span>
		</button>
	</div>
</div>

<style>
	.design-demo {
		min-height: 100vh;
		background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%);
		color: white;
		overflow-x: hidden;
	}

	/* é¡µé¢å¤´éƒ¨ */
	.demo-header {
		padding: 2rem 1rem;
		text-align: center;
		background: rgba(255, 215, 0, 0.05);
		border-bottom: 1px solid rgba(255, 215, 0, 0.1);
	}

	.header-content {
		max-width: 800px;
		margin: 0 auto;
	}

	.demo-title {
		font-size: 2.5rem;
		font-weight: 600;
		margin: 0 0 1rem 0;
		background: linear-gradient(135deg, #ffd700, #ffed4a);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.demo-subtitle {
		font-size: 1.1rem;
		color: rgba(255, 255, 255, 0.7);
		margin: 0;
	}

	/* å¯¼èˆªèœå• */
	.demo-nav {
		padding: 1rem;
		background: rgba(0, 0, 0, 0.3);
		border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		overflow-x: auto;
	}

	.nav-items {
		display: flex;
		gap: 0.5rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.nav-item {
		padding: 0.75rem 1.5rem;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 12px;
		color: white;
		cursor: pointer;
		transition: all 0.3s ease;
		white-space: nowrap;
	}

	.nav-item:hover {
		background: rgba(255, 255, 255, 0.15);
	}

	.nav-item.active {
		background: rgba(255, 215, 0, 0.2);
		border-color: rgba(255, 215, 0, 0.5);
		color: #ffd700;
	}

	/* ä¸»å†…å®¹åŒº */
	.demo-content {
		padding: 2rem 1rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.section-title {
		font-size: 1.8rem;
		font-weight: 600;
		color: #ffd700;
		margin: 0 0 2rem 0;
	}

	/* æ€»è§ˆé¡µé¢ */
	.overview-section {
		space: 3rem 0;
	}

	.principles-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 1.5rem;
		margin-bottom: 3rem;
	}

	.principle-card {
		padding: 2rem;
		background: rgba(255, 255, 255, 0.05);
		border: 1px solid rgba(255, 255, 255, 0.1);
		border-radius: 16px;
		text-align: center;
		backdrop-filter: blur(10px);
	}

	.principle-icon {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.principle-card h3 {
		font-size: 1.2rem;
		color: #ffd700;
		margin: 0 0 1rem 0;
	}

	.principle-card p {
		color: rgba(255, 255, 255, 0.7);
		line-height: 1.5;
		margin: 0;
	}

	/* é¢œè‰²ç³»ç»Ÿ */
	.color-palette {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
		gap: 1rem;
	}

	.color-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.5rem;
	}

	.color-swatch {
		width: 60px;
		height: 60px;
		border-radius: 12px;
		border: 2px solid rgba(255, 255, 255, 0.2);
	}

	.color-swatch.primary { background: #ffd700; }
	.color-swatch.success { background: #22c55e; }
	.color-swatch.warning { background: #f59e0b; }
	.color-swatch.error { background: #ef4444; }

	.color-name {
		font-weight: 500;
		color: white;
	}

	.color-value {
		font-size: 0.85rem;
		color: rgba(255, 255, 255, 0.6);
		font-family: monospace;
	}

	/* ç»„ä»¶æ¼”ç¤º */
	.component-section {
		space: 2rem 0;
	}

	.component-group {
		margin-bottom: 3rem;
	}

	.component-group h3 {
		font-size: 1.3rem;
		color: white;
		margin: 0 0 1rem 0;
	}

	/* æŒ‰é’®æ¼”ç¤º */
	.button-demos {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
		margin-bottom: 1rem;
	}

	.btn-primary {
		padding: 1rem 2rem;
		background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1));
		border: 1px solid rgba(255, 215, 0, 0.5);
		border-radius: 12px;
		color: white;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.btn-primary:hover {
		transform: translateY(-2px);
		box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
	}

	.btn-primary:disabled {
		opacity: 0.5;
		cursor: not-allowed;
		transform: none;
	}

	.btn-primary.loading {
		position: relative;
		color: transparent;
	}

	.btn-primary.loading::after {
		content: '';
		position: absolute;
		top: 50%;
		left: 50%;
		width: 20px;
		height: 20px;
		margin: -10px 0 0 -10px;
		border: 2px solid transparent;
		border-top: 2px solid #ffd700;
		border-radius: 50%;
		animation: spin 1s linear infinite;
	}

	@keyframes spin {
		0% { transform: rotate(0deg); }
		100% { transform: rotate(360deg); }
	}

	.btn-secondary {
		padding: 1rem 2rem;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: 12px;
		color: white;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.btn-secondary:hover {
		background: rgba(255, 255, 255, 0.15);
	}

	.btn-icon {
		width: 50px;
		height: 50px;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 1.2rem;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.btn-icon:hover {
		background: rgba(255, 255, 255, 0.2);
		transform: scale(1.1);
	}

	/* å¡ç‰‡æ¼”ç¤º */
	.card-demos {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 1.5rem;
	}

	.selection-card {
		position: relative;
		padding: 2rem 1.5rem;
		background: rgba(0, 0, 0, 0.4);
		border: 2px solid rgba(255, 255, 255, 0.1);
		border-radius: 20px;
		text-align: center;
		transition: all 0.3s ease;
		backdrop-filter: blur(10px);
	}

	.selection-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
	}

	.selection-card.recommended {
		border-color: rgba(255, 215, 0, 0.5);
		background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
	}

	.card-badge {
		position: absolute;
		top: -8px;
		right: 1rem;
		background: linear-gradient(135deg, #ffd700, #ffed4a);
		color: #000;
		padding: 0.25rem 0.75rem;
		border-radius: 12px;
		font-size: 0.75rem;
		font-weight: 600;
	}

	.card-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.card-number {
		font-size: 2.5rem;
		font-weight: 700;
		color: #ffd700;
		margin-bottom: 0.5rem;
	}

	.selection-card h4 {
		font-size: 1.25rem;
		color: white;
		margin: 0 0 0.5rem 0;
	}

	.selection-card p {
		color: rgba(255, 255, 255, 0.7);
		margin: 0 0 1rem 0;
	}

	.card-features {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
		justify-content: center;
	}

	.feature-tag {
		font-size: 0.7rem;
		padding: 0.25rem 0.5rem;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 8px;
		color: rgba(255, 255, 255, 0.8);
	}

	/* ä¿¡æ¯å¡ç‰‡ */
	.info-card {
		display: flex;
		align-items: center;
		gap: 1rem;
		padding: 1.5rem;
		background: rgba(34, 197, 94, 0.1);
		border: 1px solid rgba(34, 197, 94, 0.3);
		border-radius: 12px;
	}

	.info-icon {
		font-size: 1.5rem;
		flex-shrink: 0;
	}

	.info-content h4 {
		color: #22c55e;
		margin: 0 0 0.5rem 0;
	}

	.info-content p {
		color: rgba(255, 255, 255, 0.8);
		margin: 0;
	}

	/* è¾“å…¥ç»„ä»¶ */
	.input-demos {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		max-width: 400px;
	}

	.text-input {
		padding: 1rem;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: 12px;
		color: white;
		font-size: 1rem;
		transition: all 0.3s ease;
	}

	.text-input:focus {
		outline: none;
		border-color: #ffd700;
		box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.2);
	}

	.text-input.error {
		border-color: #ef4444;
	}

	.text-input::placeholder {
		color: rgba(255, 255, 255, 0.5);
	}

	.selector-demos {
		max-width: 300px;
	}

	.select-input {
		width: 100%;
		padding: 1rem;
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: 12px;
		color: white;
		font-size: 1rem;
	}

	/* å¸ƒå±€æ¼”ç¤º */
	.layout-demo {
		display: grid;
		grid-template-areas: 
			"header header"
			"nav main"
			"footer footer";
		grid-template-rows: 60px 200px 60px;
		grid-template-columns: 200px 1fr;
		gap: 1px;
		background: rgba(255, 255, 255, 0.1);
		border-radius: 12px;
		overflow: hidden;
	}

	.layout-header {
		grid-area: header;
		background: rgba(255, 215, 0, 0.2);
		display: flex;
		align-items: center;
		justify-content: center;
		color: #ffd700;
		font-weight: 600;
	}

	.layout-nav {
		grid-area: nav;
		background: rgba(255, 255, 255, 0.05);
		display: flex;
		align-items: center;
		justify-content: center;
		color: rgba(255, 255, 255, 0.7);
	}

	.layout-main {
		grid-area: main;
		background: rgba(255, 255, 255, 0.02);
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
	}

	.layout-footer {
		grid-area: footer;
		background: rgba(255, 255, 255, 0.05);
		display: flex;
		align-items: center;
		justify-content: center;
		color: rgba(255, 255, 255, 0.7);
	}

	/* åº•éƒ¨è¿”å›æŒ‰é’® */
	.demo-footer {
		padding: 2rem;
		text-align: center;
		border-top: 1px solid rgba(255, 255, 255, 0.1);
	}

	.btn-home {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		padding: 1rem 2rem;
		background: rgba(255, 215, 0, 0.2);
		border: 1px solid rgba(255, 215, 0, 0.5);
		border-radius: 12px;
		color: white;
		text-decoration: none;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.btn-home:hover {
		background: rgba(255, 215, 0, 0.3);
		transform: translateY(-2px);
	}

	/* å“åº”å¼è®¾è®¡ */
	@media (max-width: 768px) {
		.demo-title {
			font-size: 2rem;
		}

		.principles-grid {
			grid-template-columns: 1fr;
		}

		.card-demos {
			grid-template-columns: 1fr;
		}

		.layout-demo {
			grid-template-areas: 
				"header"
				"nav"
				"main"
				"footer";
			grid-template-columns: 1fr;
			grid-template-rows: 60px 60px 120px 60px;
		}
	}

	@media (max-width: 480px) {
		.demo-header {
			padding: 1.5rem 1rem;
		}

		.demo-title {
			font-size: 1.75rem;
		}

		.nav-items {
			flex-wrap: nowrap;
			overflow-x: auto;
			-webkit-overflow-scrolling: touch;
		}

		.principle-card {
			padding: 1.5rem;
		}
	}
</style> 